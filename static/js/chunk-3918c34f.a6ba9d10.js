(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3918c34f"],{"2a04":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("div",[t.isUpdateMode?t._e():a("h3",{staticClass:"text-center pb-5"},[t._v("New Task")]),a("app-input",{attrs:{required:"",placeholder:"Add new task ...","label-bold":"",message:t.errors.title,validate:t.errorCodes.title},on:{input:t.checkTitle},model:{value:t.payload.title,callback:function(e){t.$set(t.payload,"title",e)},expression:"payload.title"}})],1),a("div",[a("app-input",{attrs:{required:"",label:"Description...","label-bold":"",textarea:""},model:{value:t.payload.description,callback:function(e){t.$set(t.payload,"description",e)},expression:"payload.description"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("app-input",{attrs:{type:"date",min:t.pastDates,placeholder:"Date",label:"Due Date","label-bold":"",message:t.errors.date,validate:t.errorCodes.date},on:{input:t.checkDueDate},model:{value:t.payload.date,callback:function(e){t.$set(t.payload,"date",e)},expression:"payload.date"}})],1),a("div",{staticClass:"col-md-6"},[a("div",[a("app-select",{attrs:{placeholder:"Priority",bordered:"",options:t.priorityOpts,label:"Priority","label-bold":""},model:{value:t.payload.priority,callback:function(e){t.$set(t.payload,"priority",e)},expression:"payload.priority"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"w-100"},[t.isCreateMode?a("app-button",{staticClass:"w-100 mt-4",attrs:{loading:t.isSettingData,rounded:""},on:{click:function(e){return e.preventDefault(),t.addTask(e)}}},[a("span",[t._v("Add")])]):t._e(),t.isUpdateMode?a("app-button",{staticClass:"w-100 mt-4",attrs:{loading:t.isSettingData,rounded:""},on:{click:function(e){return e.preventDefault(),t.updateTask(e)}}},[a("span",[t._v("Update")])]):t._e()],1),a("div",{staticClass:"w-100"},[a("app-button",{staticClass:"w-100 mt-4",attrs:{color:"error",rounded:""},on:{click:function(e){return e.preventDefault(),t.cancelForm(e)}}},[a("span",[t._v("Cancel")])])],1)])])},i=[],n=(a("99af"),a("caad"),a("fb6a"),a("a9e3"),a("dca8"),a("96cf"),a("1da1")),o=a("5530"),s=a("2f62"),c=a("c9d9"),l={props:{mode:{type:String|Number,default:1,validator:function(t){return[1,2].includes(t)}},content:{type:Object,default:function(){}}},data:function(){return{VALIDATE_STATUS:Object.freeze(c["a"]),isSettingData:!1,priorityOpts:[{value:"low",text:"Low"},{value:"normal",text:"Normal"},{value:"high",text:"High"}],payload:{title:"",description:"",date:null,time:null,priority:null},errors:{title:null,description:null,date:null,time:null,priority:null},errorCodes:{title:c["a"].DEFAULT,date:c["a"].DEFAULT,time:c["a"].DEFAULT}}},computed:{isCreateMode:function(){return 1==this.mode},isUpdateMode:function(){return 2==this.mode},pastDates:function(){var t=new Date,e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2);return"".concat(e,"-").concat(a,"-").concat(r)},currentDate:function(){var t=new Date,e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2);return"".concat(e,"-").concat(a,"-").concat(r)},currentTime:function(){var t=new Date,e=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2);return"".concat(e,":").concat(a)},currentDateTime:function(){return"".concat(this.currentDate," ").concat(this.currentTime)},selectedDateTime:function(){return"".concat(this.payload.date," ").concat(this.payload.time)},pastTime:function(){return this.currentTime}},watch:{},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])("todo",["addTodo","updateTodo"])),{},{addTask:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isSettingData=!0,!t.validateForm()){e.next=9;break}return a=Object(o["a"])(Object(o["a"])({},t.payload),{},{completed:!1}),e.next=6,t.addTodo(a);case 6:e.sent,alert("Add task successful"),t.$emit("done");case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:return e.prev=13,t.isSettingData=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,11,13,16]])})))()},updateTask:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isSettingData=!0,!t.validateForm()){e.next=9;break}return a=t.payload,e.next=6,t.updateTodo(a);case 6:e.sent,alert("Update task successful"),t.$emit("done");case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:return e.prev=13,t.isSettingData=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,11,13,16]])})))()},checkTitle:function(){return this.payload.title?this.payload.title.length>100?(this.errorCodes.title=c["a"].ERROR,this.errors.title="Length between from 5 to 100 letters",!1):(this.errorCodes.title=c["a"].DEFAULT,this.errors.title="",!0):(this.errors.title="This field is required",this.errorCodes.title=c["a"].ERROR,!1)},checkDueDate:function(){if(!this.payload.date)return this.errors.date="This field is required",this.errorCodes.date=c["a"].ERROR,!1;var t=new Date(this.currentDateTime),e=new Date(this.selectedDateTime);return t>e?(this.errors.date="This field is not be past",this.errors.date="This field is not be past",this.errorCodes.date=c["a"].ERROR,this.errorCodes.time=c["a"].ERROR,!1):(this.errorCodes.date=c["a"].DEFAULT,this.errorCodes.time=c["a"].DEFAULT,this.errors.date="",this.errors.time="",!0)},validateForm:function(){var t=this.checkTitle(),e=this.checkDueDate();return t&&e},resetForm:function(){},cancelForm:function(){this.$emit("cancel")},initData:function(){1==this.mode?(this.payload.date=this.currentDate,this.payload.time=this.currentTime,this.payload.priority="normal"):this.payload=Object(o["a"])({},this.content)}}),created:function(){},mounted:function(){this.initData()}},d=l,u=a("2877"),p=Object(u["a"])(d,r,i,!1,null,null,null);e["a"]=p.exports},e509:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"box",staticStyle:{padding:"4rem"}},[a("form-add",{on:{cancel:t.cancelForm,done:t.doneAdd}})],1)])])},i=[],n=a("2a04"),o={name:"TodoList",components:{FormAdd:n["a"]},data:function(){return{}},watch:{},methods:{cancelForm:function(){this.goList()},doneAdd:function(){this.goList()},goList:function(){this.$router.push({name:"TodoList"})}}},s=o,c=a("2877"),l=Object(c["a"])(s,r,i,!1,null,"e698f83a",null);e["default"]=l.exports}}]);